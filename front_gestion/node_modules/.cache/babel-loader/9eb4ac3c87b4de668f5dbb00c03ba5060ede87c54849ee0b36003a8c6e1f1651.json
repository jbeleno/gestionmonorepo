{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bele\\xF1o\\\\Desktop\\\\gestion\\\\gestionmonorepo\\\\front_gestion\\\\src\\\\components\\\\AdminCuenta.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"../styles/AdminCuenta.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../config/supabase\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ESTADOS = [\"Pago confirmado\", \"En preparación\", \"En domicilio\", \"Listo para recoger\", \"Entregado\"];\nfunction AdminCuenta() {\n  _s();\n  const navigate = useNavigate();\n  const [tab, setTab] = useState(\"productos\");\n  const [uploading, setUploading] = useState(false);\n\n  // Productos\n  const [productos, setProductos] = useState([]);\n  const [categorias, setCategorias] = useState([]);\n  const [nuevoProducto, setNuevoProducto] = useState({\n    nombre: \"\",\n    descripcion: \"\",\n    cantidad: 0,\n    precio: 0,\n    id_categoria: \"\",\n    imagen_url: \"\"\n  });\n  const [editandoProducto, setEditandoProducto] = useState(null);\n  const [productoEdit, setProductoEdit] = useState({});\n  const [selectedFile, setSelectedFile] = useState(null);\n\n  // Categorías\n  const [nuevaCategoria, setNuevaCategoria] = useState({\n    nombre: \"\",\n    descripcion_corta: \"\",\n    descripcion_larga: \"\"\n  });\n  const [editandoCategoria, setEditandoCategoria] = useState(null);\n  const [categoriaEdit, setCategoriaEdit] = useState({});\n\n  // Pedidos\n  const [pedidos, setPedidos] = useState([]);\n  const [filtroEstado, setFiltroEstado] = useState(\"\");\n  const [verMasId, setVerMasId] = useState(null);\n  const [detallesPedido, setDetallesPedido] = useState({});\n  const [editandoEstadoId, setEditandoEstadoId] = useState(null);\n\n  // Filtros\n  const [filtroCategoria, setFiltroCategoria] = useState(\"\");\n  const [filtroNombre, setFiltroNombre] = useState(\"\");\n\n  // Cerrar sesión\n  const handleLogout = () => {\n    localStorage.removeItem(\"usuario\");\n    navigate(\"/\");\n  };\n\n  // Cargar datos iniciales\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/productos/\").then(res => res.json()).then(setProductos);\n    fetch(\"http://127.0.0.1:8000/categorias/\").then(res => res.json()).then(setCategorias);\n    fetch(\"http://127.0.0.1:8000/pedidos/\").then(res => res.json()).then(setPedidos);\n  }, []);\n\n  // Filtrar pedidos por estado\n  useEffect(() => {\n    if (filtroEstado) {\n      fetch(`http://127.0.0.1:8000/pedidos/estado/${filtroEstado}`).then(res => res.json()).then(setPedidos);\n    } else {\n      fetch(\"http://127.0.0.1:8000/pedidos/\").then(res => res.json()).then(setPedidos);\n    }\n  }, [filtroEstado]);\n\n  // Función para subir imagen a Supabase\n  const uploadImage = async file => {\n    try {\n      setUploading(true);\n\n      // Generar un nombre único para el archivo\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${Math.random().toString(36).substring(2)}.${fileExt}`;\n      const filePath = `${fileName}`;\n\n      // Subir archivo a Supabase Storage\n      const {\n        error: uploadError\n      } = await supabase.storage.from('productos').upload(filePath, file);\n      if (uploadError) {\n        throw uploadError;\n      }\n\n      // Obtener la URL pública\n      const {\n        data\n      } = supabase.storage.from('productos').getPublicUrl(filePath);\n      return data.publicUrl;\n    } catch (error) {\n      console.error('Error al subir la imagen:', error);\n      alert('Error al subir la imagen');\n      return null;\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Manejador para el cambio de archivo\n  const handleFileChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  // CRUD Productos\n  const handleCrearProducto = async e => {\n    e.preventDefault();\n    let imagenUrl = nuevoProducto.imagen_url;\n\n    // Si hay un archivo seleccionado, súbelo primero\n    if (selectedFile) {\n      imagenUrl = await uploadImage(selectedFile);\n      if (!imagenUrl) return; // Si falla la subida, no continuar\n    }\n    const productoData = {\n      ...nuevoProducto,\n      imagen_url: imagenUrl\n    };\n    const res = await fetch(\"http://127.0.0.1:8000/productos/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(productoData)\n    });\n    if (res.ok) {\n      const prod = await res.json();\n      setProductos([...productos, prod]);\n      setNuevoProducto({\n        nombre: \"\",\n        descripcion: \"\",\n        cantidad: 0,\n        precio: 0,\n        id_categoria: \"\",\n        imagen_url: \"\"\n      });\n      setSelectedFile(null);\n    }\n  };\n  const handleActualizarProducto = async id => {\n    let imagenUrl = productoEdit.imagen_url;\n\n    // Si hay un archivo seleccionado, súbelo primero\n    if (selectedFile) {\n      imagenUrl = await uploadImage(selectedFile);\n      if (!imagenUrl) return; // Si falla la subida, no continuar\n    }\n    const productoData = {\n      ...productoEdit,\n      imagen_url: imagenUrl\n    };\n    const res = await fetch(`http://127.0.0.1:8000/productos/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(productoData)\n    });\n    if (res.ok) {\n      const actualizado = await res.json();\n      setProductos(productos.map(p => p.id_producto === id ? actualizado : p));\n      setEditandoProducto(null);\n      setProductoEdit({});\n      setSelectedFile(null);\n    }\n  };\n  const handleEditarClick = prod => {\n    setEditandoProducto(prod.id_producto);\n    setProductoEdit({\n      nombre: prod.nombre,\n      descripcion: prod.descripcion,\n      cantidad: prod.cantidad,\n      precio: prod.precio,\n      id_categoria: prod.id_categoria,\n      imagen_url: prod.imagen_url\n    });\n  };\n  const handleEliminarProducto = async id => {\n    await fetch(`http://127.0.0.1:8000/productos/${id}`, {\n      method: \"DELETE\"\n    });\n    setProductos(productos.filter(p => p.id_producto !== id));\n  };\n\n  // CRUD Categorías\n  const handleCrearCategoria = async e => {\n    e.preventDefault();\n    const res = await fetch(\"http://127.0.0.1:8000/categorias/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(nuevaCategoria)\n    });\n    if (res.ok) {\n      const cat = await res.json();\n      setCategorias([...categorias, cat]);\n      setNuevaCategoria({\n        nombre: \"\",\n        descripcion_corta: \"\",\n        descripcion_larga: \"\"\n      });\n    }\n  };\n  const handleEliminarCategoria = async id => {\n    await fetch(`http://127.0.0.1:8000/categorias/${id}`, {\n      method: \"DELETE\"\n    });\n    setCategorias(categorias.filter(c => c.id_categoria !== id));\n  };\n  const handleEditarCategoriaClick = cat => {\n    setEditandoCategoria(cat.id_categoria);\n    setCategoriaEdit({\n      nombre: cat.nombre,\n      descripcion_corta: cat.descripcion_corta,\n      descripcion_larga: cat.descripcion_larga\n    });\n  };\n  const handleActualizarCategoria = async id => {\n    const res = await fetch(`http://127.0.0.1:8000/categorias/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(categoriaEdit)\n    });\n    if (res.ok) {\n      const actualizada = await res.json();\n      setCategorias(categorias.map(c => c.id_categoria === id ? actualizada : c));\n      setEditandoCategoria(null);\n      setCategoriaEdit({});\n    }\n  };\n\n  // Actualizar estado de pedido\n  const handleActualizarEstado = async (id_pedido, nuevoEstado) => {\n    const pedido = pedidos.find(p => p.id_pedido === id_pedido);\n    if (!pedido) return;\n    const res = await fetch(`http://127.0.0.1:8000/pedidos/${id_pedido}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        ...pedido,\n        estado: nuevoEstado\n      })\n    });\n    if (res.ok) {\n      setPedidos(pedidos.map(p => p.id_pedido === id_pedido ? {\n        ...p,\n        estado: nuevoEstado\n      } : p));\n    }\n  };\n\n  // Ver productos del pedido\n  const handleVerMas = async id_pedido => {\n    if (verMasId === id_pedido) {\n      setVerMasId(null);\n      return;\n    }\n    // Si ya tenemos los detalles, solo mostrar\n    if (detallesPedido[id_pedido]) {\n      setVerMasId(id_pedido);\n      return;\n    }\n    // Obtener detalles y productos\n    const detallesRes = await fetch(`http://127.0.0.1:8000/detalle_pedidos/`);\n    const detallesAll = await detallesRes.json();\n    const detalles = detallesAll.filter(d => d.id_pedido === id_pedido);\n    // Obtener productos\n    const productosRes = await fetch(`http://127.0.0.1:8000/pedidos/${id_pedido}/productos`);\n    const productos = await productosRes.json();\n    setDetallesPedido(prev => ({\n      ...prev,\n      [id_pedido]: detalles.map(det => ({\n        ...det,\n        producto: productos.find(p => p.id_producto === det.id_producto)\n      }))\n    }));\n    setVerMasId(id_pedido);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-cuenta-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Panel de administrador\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      style: {\n        float: 'right',\n        marginTop: '-2.5rem',\n        marginBottom: '1rem',\n        background: '#d32f2f',\n        color: '#fff',\n        border: 'none',\n        borderRadius: '6px',\n        padding: '0.5rem 1.2rem',\n        fontWeight: 'bold',\n        cursor: 'pointer'\n      },\n      children: \"Cerrar sesi\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(\"productos\"),\n        className: tab === \"productos\" ? \"active\" : \"\",\n        children: \"Productos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(\"categorias\"),\n        className: tab === \"categorias\" ? \"active\" : \"\",\n        children: \"Categor\\xEDas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(\"pedidos\"),\n        className: tab === \"pedidos\" ? \"active\" : \"\",\n        children: \"Pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), tab === \"productos\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Productos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filtros-productos\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: filtroCategoria,\n          onChange: e => setFiltroCategoria(e.target.value),\n          style: {\n            padding: \"0.5rem\",\n            borderRadius: \"6px\",\n            border: \"1.5px solid #6C3483\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Todas las categor\\xEDas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), categorias.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat.id_categoria,\n            children: cat.nombre\n          }, cat.id_categoria, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Buscar por nombre...\",\n          value: filtroNombre,\n          onChange: e => setFiltroNombre(e.target.value),\n          style: {\n            padding: \"0.5rem\",\n            borderRadius: \"6px\",\n            border: \"1.5px solid #6C3483\",\n            flex: \"1 1 200px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCrearProducto,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: nuevoProducto.nombre,\n          onChange: e => setNuevoProducto({\n            ...nuevoProducto,\n            nombre: e.target.value\n          }),\n          placeholder: \"Nombre\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: nuevoProducto.descripcion,\n          onChange: e => setNuevoProducto({\n            ...nuevoProducto,\n            descripcion: e.target.value\n          }),\n          placeholder: \"Descripci\\xF3n\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: nuevoProducto.cantidad,\n          onChange: e => setNuevoProducto({\n            ...nuevoProducto,\n            cantidad: Number(e.target.value)\n          }),\n          placeholder: \"Cantidad\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: nuevoProducto.precio,\n          onChange: e => setNuevoProducto({\n            ...nuevoProducto,\n            precio: Number(e.target.value)\n          }),\n          placeholder: \"Precio\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: nuevoProducto.id_categoria,\n          onChange: e => setNuevoProducto({\n            ...nuevoProducto,\n            id_categoria: Number(e.target.value)\n          }),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Categor\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), categorias.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat.id_categoria,\n            children: cat.nombre\n          }, cat.id_categoria, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 38\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-upload-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleFileChange,\n            style: {\n              display: 'none'\n            },\n            id: \"image-upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"image-upload\",\n            className: \"upload-button\",\n            children: selectedFile ? 'Cambiar imagen' : 'Seleccionar imagen'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"file-name\",\n            children: selectedFile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: uploading,\n          children: uploading ? 'Subiendo...' : 'Crear producto'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: productos.filter(prod => (!filtroCategoria || prod.id_categoria === Number(filtroCategoria)) && (!filtroNombre || prod.nombre.toLowerCase().includes(filtroNombre.toLowerCase()))).map(prod => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"admin-producto-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-producto-info\",\n            children: editandoProducto === prod.id_producto ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                value: productoEdit.nombre,\n                onChange: e => setProductoEdit({\n                  ...productoEdit,\n                  nombre: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: productoEdit.descripcion,\n                onChange: e => setProductoEdit({\n                  ...productoEdit,\n                  descripcion: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: productoEdit.precio,\n                onChange: e => setProductoEdit({\n                  ...productoEdit,\n                  precio: Number(e.target.value)\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: productoEdit.cantidad,\n                onChange: e => setProductoEdit({\n                  ...productoEdit,\n                  cantidad: Number(e.target.value)\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-upload-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handleFileChange,\n                  style: {\n                    display: 'none'\n                  },\n                  id: `image-upload-${prod.id_producto}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `image-upload-${prod.id_producto}`,\n                  className: \"upload-button\",\n                  children: selectedFile ? 'Cambiar imagen' : 'Seleccionar imagen'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 27\n                }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-name\",\n                  children: selectedFile.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: productoEdit.id_categoria,\n                onChange: e => setProductoEdit({\n                  ...productoEdit,\n                  id_categoria: Number(e.target.value)\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Categor\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 27\n                }, this), categorias.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cat.id_categoria,\n                  children: cat.nombre\n                }, cat.id_categoria, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 50\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn-morado\",\n                onClick: () => handleActualizarProducto(prod.id_producto),\n                disabled: uploading,\n                children: uploading ? 'Subiendo...' : 'Guardar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn-morado\",\n                onClick: () => handleEliminarProducto(prod.id_producto),\n                style: {\n                  marginLeft: '0.7rem'\n                },\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEditandoProducto(null),\n                style: {\n                  marginLeft: '0.7rem'\n                },\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-producto-nombre\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: prod.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-producto-desc\",\n                children: prod.descripcion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-producto-precio\",\n                children: [\"$\", prod.precio]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-producto-stock\",\n                children: [\"Stock: \", prod.cantidad]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn-morado\",\n                onClick: () => handleEditarClick(prod),\n                children: \"Actualizar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 19\n          }, this), prod.imagen_url && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-producto-img\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: prod.imagen_url,\n              alt: prod.nombre,\n              style: {\n                maxWidth: '120px',\n                maxHeight: '120px',\n                borderRadius: '8px',\n                objectFit: 'cover'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 21\n          }, this)]\n        }, prod.id_producto, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this), tab === \"categorias\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Categor\\xEDas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCrearCategoria,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: nuevaCategoria.nombre,\n          onChange: e => setNuevaCategoria({\n            ...nuevaCategoria,\n            nombre: e.target.value\n          }),\n          placeholder: \"Nombre\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: nuevaCategoria.descripcion_corta,\n          onChange: e => setNuevaCategoria({\n            ...nuevaCategoria,\n            descripcion_corta: e.target.value\n          }),\n          placeholder: \"Descripci\\xF3n corta\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: nuevaCategoria.descripcion_larga,\n          onChange: e => setNuevaCategoria({\n            ...nuevaCategoria,\n            descripcion_larga: e.target.value\n          }),\n          placeholder: \"Descripci\\xF3n larga\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Crear categor\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: categorias.map(cat => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"admin-categoria-item\",\n          children: editandoCategoria === cat.id_categoria ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-categoria-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: categoriaEdit.nombre,\n              onChange: e => setCategoriaEdit({\n                ...categoriaEdit,\n                nombre: e.target.value\n              }),\n              placeholder: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: categoriaEdit.descripcion_corta,\n              onChange: e => setCategoriaEdit({\n                ...categoriaEdit,\n                descripcion_corta: e.target.value\n              }),\n              placeholder: \"Descripci\\xF3n corta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: categoriaEdit.descripcion_larga,\n              onChange: e => setCategoriaEdit({\n                ...categoriaEdit,\n                descripcion_larga: e.target.value\n              }),\n              placeholder: \"Descripci\\xF3n larga\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-categoria-botones\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn-morado\",\n                onClick: () => handleActualizarCategoria(cat.id_categoria),\n                children: \"Guardar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn-morado\",\n                onClick: () => handleEliminarCategoria(cat.id_categoria),\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEditandoCategoria(null),\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-categoria-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-categoria-nombre\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: cat.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-categoria-desc\",\n              children: cat.descripcion_corta\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-categoria-botones\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn-morado\",\n                onClick: () => handleEditarCategoriaClick(cat),\n                children: \"Actualizar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 19\n          }, this)\n        }, cat.id_categoria, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }, this), tab === \"pedidos\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Filtrar por estado: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filtroEstado,\n        onChange: e => setFiltroEstado(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this), ESTADOS.map(estado => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: estado,\n          children: estado\n        }, estado, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: pedidos.map(pedido => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginBottom: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Pedido #\", pedido.id_pedido]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this), \" - Estado: \", pedido.estado, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"admin-btn-morado\",\n            style: {\n              marginLeft: '1rem'\n            },\n            onClick: () => setEditandoEstadoId(editandoEstadoId === pedido.id_pedido ? null : pedido.id_pedido),\n            children: \"Actualizar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"admin-btn-morado\",\n            style: {\n              marginLeft: '0.7rem'\n            },\n            onClick: () => handleVerMas(pedido.id_pedido),\n            children: verMasId === pedido.id_pedido ? \"Ocultar\" : \"Ver más\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" | Cliente: \", pedido.id_cliente, \" | Direcci\\xF3n: \", pedido.direccion_envio, \" | Fecha: \", pedido.fecha_pedido]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 17\n          }, this), editandoEstadoId === pedido.id_pedido && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '0.7rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: pedido.estado,\n              onChange: e => handleActualizarEstado(pedido.id_pedido, e.target.value),\n              children: ESTADOS.map(estado => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: estado,\n                children: estado\n              }, estado, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                marginLeft: '0.7rem'\n              },\n              onClick: () => setEditandoEstadoId(null),\n              children: \"Cerrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 19\n          }, this), verMasId === pedido.id_pedido && detallesPedido[pedido.id_pedido] && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '1rem',\n              background: '#f3e5f5',\n              borderRadius: '8px',\n              padding: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Productos del pedido:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                marginTop: '0.7rem'\n              },\n              children: detallesPedido[pedido.id_pedido].map((det, idx) => {\n                var _det$producto, _det$producto2, _det$producto3;\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    marginBottom: '0.5rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: (_det$producto = det.producto) === null || _det$producto === void 0 ? void 0 : _det$producto.nombre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 27\n                  }, this), \" - \", (_det$producto2 = det.producto) === null || _det$producto2 === void 0 ? void 0 : _det$producto2.descripcion, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 86\n                  }, this), \"Valor unitario: $\", (_det$producto3 = det.producto) === null || _det$producto3 === void 0 ? void 0 : _det$producto3.precio, \" | Cantidad: \", det.cantidad, \" | Subtotal: $\", det.subtotal]\n                }, det.id_detalle, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 19\n          }, this)]\n        }, pedido.id_pedido, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminCuenta, \"bBalhXcD/rO/kkTohDHooA7RidM=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminCuenta;\nexport default AdminCuenta;\nvar _c;\n$RefreshReg$(_c, \"AdminCuenta\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","jsxDEV","_jsxDEV","Fragment","_Fragment","ESTADOS","AdminCuenta","_s","navigate","tab","setTab","uploading","setUploading","productos","setProductos","categorias","setCategorias","nuevoProducto","setNuevoProducto","nombre","descripcion","cantidad","precio","id_categoria","imagen_url","editandoProducto","setEditandoProducto","productoEdit","setProductoEdit","selectedFile","setSelectedFile","nuevaCategoria","setNuevaCategoria","descripcion_corta","descripcion_larga","editandoCategoria","setEditandoCategoria","categoriaEdit","setCategoriaEdit","pedidos","setPedidos","filtroEstado","setFiltroEstado","verMasId","setVerMasId","detallesPedido","setDetallesPedido","editandoEstadoId","setEditandoEstadoId","filtroCategoria","setFiltroCategoria","filtroNombre","setFiltroNombre","handleLogout","localStorage","removeItem","fetch","then","res","json","uploadImage","file","fileExt","name","split","pop","fileName","Math","random","toString","substring","filePath","error","uploadError","storage","from","upload","data","getPublicUrl","publicUrl","console","alert","handleFileChange","e","target","files","handleCrearProducto","preventDefault","imagenUrl","productoData","method","headers","body","JSON","stringify","ok","prod","handleActualizarProducto","id","actualizado","map","p","id_producto","handleEditarClick","handleEliminarProducto","filter","handleCrearCategoria","cat","handleEliminarCategoria","c","handleEditarCategoriaClick","handleActualizarCategoria","actualizada","handleActualizarEstado","id_pedido","nuevoEstado","pedido","find","estado","handleVerMas","detallesRes","detallesAll","detalles","d","productosRes","prev","det","producto","className","children","_jsxFileName","lineNumber","columnNumber","onClick","style","float","marginTop","marginBottom","background","color","border","borderRadius","padding","fontWeight","cursor","value","onChange","type","placeholder","flex","onSubmit","required","Number","accept","display","htmlFor","disabled","toLowerCase","includes","marginLeft","src","alt","maxWidth","maxHeight","objectFit","id_cliente","direccion_envio","fecha_pedido","idx","_det$producto","_det$producto2","_det$producto3","subtotal","id_detalle","_c","$RefreshReg$"],"sources":["C:/Users/beleño/Desktop/gestion/gestionmonorepo/front_gestion/src/components/AdminCuenta.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/AdminCuenta.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { supabase } from \"../config/supabase\";\r\n\r\nconst ESTADOS = [\r\n  \"Pago confirmado\",\r\n  \"En preparación\",\r\n  \"En domicilio\",\r\n  \"Listo para recoger\",\r\n  \"Entregado\"\r\n];\r\n\r\nfunction AdminCuenta() {\r\n  const navigate = useNavigate();\r\n  const [tab, setTab] = useState(\"productos\");\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  // Productos\r\n  const [productos, setProductos] = useState([]);\r\n  const [categorias, setCategorias] = useState([]);\r\n  const [nuevoProducto, setNuevoProducto] = useState({ nombre: \"\", descripcion: \"\", cantidad: 0, precio: 0, id_categoria: \"\", imagen_url: \"\" });\r\n  const [editandoProducto, setEditandoProducto] = useState(null);\r\n  const [productoEdit, setProductoEdit] = useState({});\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  // Categorías\r\n  const [nuevaCategoria, setNuevaCategoria] = useState({ nombre: \"\", descripcion_corta: \"\", descripcion_larga: \"\" });\r\n  const [editandoCategoria, setEditandoCategoria] = useState(null);\r\n  const [categoriaEdit, setCategoriaEdit] = useState({});\r\n\r\n  // Pedidos\r\n  const [pedidos, setPedidos] = useState([]);\r\n  const [filtroEstado, setFiltroEstado] = useState(\"\");\r\n  const [verMasId, setVerMasId] = useState(null);\r\n  const [detallesPedido, setDetallesPedido] = useState({});\r\n  const [editandoEstadoId, setEditandoEstadoId] = useState(null);\r\n\r\n  // Filtros\r\n  const [filtroCategoria, setFiltroCategoria] = useState(\"\");\r\n  const [filtroNombre, setFiltroNombre] = useState(\"\");\r\n\r\n  // Cerrar sesión\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"usuario\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  // Cargar datos iniciales\r\n  useEffect(() => {\r\n    fetch(\"http://127.0.0.1:8000/productos/\").then(res => res.json()).then(setProductos);\r\n    fetch(\"http://127.0.0.1:8000/categorias/\").then(res => res.json()).then(setCategorias);\r\n    fetch(\"http://127.0.0.1:8000/pedidos/\").then(res => res.json()).then(setPedidos);\r\n  }, []);\r\n\r\n  // Filtrar pedidos por estado\r\n  useEffect(() => {\r\n    if (filtroEstado) {\r\n      fetch(`http://127.0.0.1:8000/pedidos/estado/${filtroEstado}`).then(res => res.json()).then(setPedidos);\r\n    } else {\r\n      fetch(\"http://127.0.0.1:8000/pedidos/\").then(res => res.json()).then(setPedidos);\r\n    }\r\n  }, [filtroEstado]);\r\n\r\n  // Función para subir imagen a Supabase\r\n  const uploadImage = async (file) => {\r\n    try {\r\n      setUploading(true);\r\n      \r\n      // Generar un nombre único para el archivo\r\n      const fileExt = file.name.split('.').pop();\r\n      const fileName = `${Math.random().toString(36).substring(2)}.${fileExt}`;\r\n      const filePath = `${fileName}`;\r\n\r\n      // Subir archivo a Supabase Storage\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('productos')\r\n        .upload(filePath, file);\r\n\r\n      if (uploadError) {\r\n        throw uploadError;\r\n      }\r\n\r\n      // Obtener la URL pública\r\n      const { data } = supabase.storage\r\n        .from('productos')\r\n        .getPublicUrl(filePath);\r\n\r\n      return data.publicUrl;\r\n    } catch (error) {\r\n      console.error('Error al subir la imagen:', error);\r\n      alert('Error al subir la imagen');\r\n      return null;\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Manejador para el cambio de archivo\r\n  const handleFileChange = (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setSelectedFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  // CRUD Productos\r\n  const handleCrearProducto = async e => {\r\n    e.preventDefault();\r\n    \r\n    let imagenUrl = nuevoProducto.imagen_url;\r\n    \r\n    // Si hay un archivo seleccionado, súbelo primero\r\n    if (selectedFile) {\r\n      imagenUrl = await uploadImage(selectedFile);\r\n      if (!imagenUrl) return; // Si falla la subida, no continuar\r\n    }\r\n\r\n    const productoData = {\r\n      ...nuevoProducto,\r\n      imagen_url: imagenUrl\r\n    };\r\n\r\n    const res = await fetch(\"http://127.0.0.1:8000/productos/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(productoData)\r\n    });\r\n\r\n    if (res.ok) {\r\n      const prod = await res.json();\r\n      setProductos([...productos, prod]);\r\n      setNuevoProducto({ \r\n        nombre: \"\", \r\n        descripcion: \"\", \r\n        cantidad: 0, \r\n        precio: 0, \r\n        id_categoria: \"\", \r\n        imagen_url: \"\" \r\n      });\r\n      setSelectedFile(null);\r\n    }\r\n  };\r\n\r\n  const handleActualizarProducto = async id => {\r\n    let imagenUrl = productoEdit.imagen_url;\r\n    \r\n    // Si hay un archivo seleccionado, súbelo primero\r\n    if (selectedFile) {\r\n      imagenUrl = await uploadImage(selectedFile);\r\n      if (!imagenUrl) return; // Si falla la subida, no continuar\r\n    }\r\n\r\n    const productoData = {\r\n      ...productoEdit,\r\n      imagen_url: imagenUrl\r\n    };\r\n\r\n    const res = await fetch(`http://127.0.0.1:8000/productos/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(productoData)\r\n    });\r\n\r\n    if (res.ok) {\r\n      const actualizado = await res.json();\r\n      setProductos(productos.map(p => p.id_producto === id ? actualizado : p));\r\n      setEditandoProducto(null);\r\n      setProductoEdit({});\r\n      setSelectedFile(null);\r\n    }\r\n  };\r\n\r\n  const handleEditarClick = prod => {\r\n    setEditandoProducto(prod.id_producto);\r\n    setProductoEdit({\r\n      nombre: prod.nombre,\r\n      descripcion: prod.descripcion,\r\n      cantidad: prod.cantidad,\r\n      precio: prod.precio,\r\n      id_categoria: prod.id_categoria,\r\n      imagen_url: prod.imagen_url\r\n    });\r\n  };\r\n\r\n  const handleEliminarProducto = async id => {\r\n    await fetch(`http://127.0.0.1:8000/productos/${id}`, { method: \"DELETE\" });\r\n    setProductos(productos.filter(p => p.id_producto !== id));\r\n  };\r\n\r\n  // CRUD Categorías\r\n  const handleCrearCategoria = async e => {\r\n    e.preventDefault();\r\n    const res = await fetch(\"http://127.0.0.1:8000/categorias/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(nuevaCategoria)\r\n    });\r\n    if (res.ok) {\r\n      const cat = await res.json();\r\n      setCategorias([...categorias, cat]);\r\n      setNuevaCategoria({ nombre: \"\", descripcion_corta: \"\", descripcion_larga: \"\" });\r\n    }\r\n  };\r\n\r\n  const handleEliminarCategoria = async id => {\r\n    await fetch(`http://127.0.0.1:8000/categorias/${id}`, { method: \"DELETE\" });\r\n    setCategorias(categorias.filter(c => c.id_categoria !== id));\r\n  };\r\n\r\n  const handleEditarCategoriaClick = cat => {\r\n    setEditandoCategoria(cat.id_categoria);\r\n    setCategoriaEdit({\r\n      nombre: cat.nombre,\r\n      descripcion_corta: cat.descripcion_corta,\r\n      descripcion_larga: cat.descripcion_larga\r\n    });\r\n  };\r\n\r\n  const handleActualizarCategoria = async id => {\r\n    const res = await fetch(`http://127.0.0.1:8000/categorias/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(categoriaEdit)\r\n    });\r\n    if (res.ok) {\r\n      const actualizada = await res.json();\r\n      setCategorias(categorias.map(c => c.id_categoria === id ? actualizada : c));\r\n      setEditandoCategoria(null);\r\n      setCategoriaEdit({});\r\n    }\r\n  };\r\n\r\n  // Actualizar estado de pedido\r\n  const handleActualizarEstado = async (id_pedido, nuevoEstado) => {\r\n    const pedido = pedidos.find(p => p.id_pedido === id_pedido);\r\n    if (!pedido) return;\r\n    const res = await fetch(`http://127.0.0.1:8000/pedidos/${id_pedido}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ ...pedido, estado: nuevoEstado })\r\n    });\r\n    if (res.ok) {\r\n      setPedidos(pedidos.map(p => p.id_pedido === id_pedido ? { ...p, estado: nuevoEstado } : p));\r\n    }\r\n  };\r\n\r\n  // Ver productos del pedido\r\n  const handleVerMas = async (id_pedido) => {\r\n    if (verMasId === id_pedido) {\r\n      setVerMasId(null);\r\n      return;\r\n    }\r\n    // Si ya tenemos los detalles, solo mostrar\r\n    if (detallesPedido[id_pedido]) {\r\n      setVerMasId(id_pedido);\r\n      return;\r\n    }\r\n    // Obtener detalles y productos\r\n    const detallesRes = await fetch(`http://127.0.0.1:8000/detalle_pedidos/`);\r\n    const detallesAll = await detallesRes.json();\r\n    const detalles = detallesAll.filter(d => d.id_pedido === id_pedido);\r\n    // Obtener productos\r\n    const productosRes = await fetch(`http://127.0.0.1:8000/pedidos/${id_pedido}/productos`);\r\n    const productos = await productosRes.json();\r\n    setDetallesPedido(prev => ({\r\n      ...prev,\r\n      [id_pedido]: detalles.map(det => ({\r\n        ...det,\r\n        producto: productos.find(p => p.id_producto === det.id_producto)\r\n      }))\r\n    }));\r\n    setVerMasId(id_pedido);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-cuenta-container\">\r\n      <h2>Panel de administrador</h2>\r\n      <button onClick={handleLogout} style={{float: 'right', marginTop: '-2.5rem', marginBottom: '1rem', background: '#d32f2f', color: '#fff', border: 'none', borderRadius: '6px', padding: '0.5rem 1.2rem', fontWeight: 'bold', cursor: 'pointer'}}>Cerrar sesión</button>\r\n      <div className=\"admin-tabs\">\r\n        <button onClick={() => setTab(\"productos\")} className={tab === \"productos\" ? \"active\" : \"\"}>Productos</button>\r\n        <button onClick={() => setTab(\"categorias\")} className={tab === \"categorias\" ? \"active\" : \"\"}>Categorías</button>\r\n        <button onClick={() => setTab(\"pedidos\")} className={tab === \"pedidos\" ? \"active\" : \"\"}>Pedidos</button>\r\n      </div>\r\n\r\n      {/* CRUD Productos */}\r\n      {tab === \"productos\" && (\r\n        <div>\r\n          <h3>Productos</h3>\r\n          <div className=\"admin-filtros-productos\">\r\n            <select\r\n              value={filtroCategoria}\r\n              onChange={e => setFiltroCategoria(e.target.value)}\r\n              style={{padding: \"0.5rem\", borderRadius: \"6px\", border: \"1.5px solid #6C3483\"}}\r\n            >\r\n              <option value=\"\">Todas las categorías</option>\r\n              {categorias.map(cat => (\r\n                <option key={cat.id_categoria} value={cat.id_categoria}>{cat.nombre}</option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Buscar por nombre...\"\r\n              value={filtroNombre}\r\n              onChange={e => setFiltroNombre(e.target.value)}\r\n              style={{padding: \"0.5rem\", borderRadius: \"6px\", border: \"1.5px solid #6C3483\", flex: \"1 1 200px\"}}\r\n            />\r\n          </div>\r\n          <form onSubmit={handleCrearProducto} className=\"admin-form\">\r\n            <input \r\n              value={nuevoProducto.nombre} \r\n              onChange={e => setNuevoProducto({ ...nuevoProducto, nombre: e.target.value })} \r\n              placeholder=\"Nombre\" \r\n              required \r\n            />\r\n            <input \r\n              value={nuevoProducto.descripcion} \r\n              onChange={e => setNuevoProducto({ ...nuevoProducto, descripcion: e.target.value })} \r\n              placeholder=\"Descripción\" \r\n              required \r\n            />\r\n            <input \r\n              type=\"number\" \r\n              value={nuevoProducto.cantidad} \r\n              onChange={e => setNuevoProducto({ ...nuevoProducto, cantidad: Number(e.target.value) })} \r\n              placeholder=\"Cantidad\" \r\n              required \r\n            />\r\n            <input \r\n              type=\"number\" \r\n              value={nuevoProducto.precio} \r\n              onChange={e => setNuevoProducto({ ...nuevoProducto, precio: Number(e.target.value) })} \r\n              placeholder=\"Precio\" \r\n              required \r\n            />\r\n            <select \r\n              value={nuevoProducto.id_categoria} \r\n              onChange={e => setNuevoProducto({ ...nuevoProducto, id_categoria: Number(e.target.value) })} \r\n              required\r\n            >\r\n              <option value=\"\">Categoría</option>\r\n              {categorias.map(cat => <option key={cat.id_categoria} value={cat.id_categoria}>{cat.nombre}</option>)}\r\n            </select>\r\n            <div className=\"image-upload-container\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleFileChange}\r\n                style={{ display: 'none' }}\r\n                id=\"image-upload\"\r\n              />\r\n              <label htmlFor=\"image-upload\" className=\"upload-button\">\r\n                {selectedFile ? 'Cambiar imagen' : 'Seleccionar imagen'}\r\n              </label>\r\n              {selectedFile && (\r\n                <span className=\"file-name\">{selectedFile.name}</span>\r\n              )}\r\n            </div>\r\n            <button type=\"submit\" disabled={uploading}>\r\n              {uploading ? 'Subiendo...' : 'Crear producto'}\r\n            </button>\r\n          </form>\r\n          <ul>\r\n            {productos\r\n              .filter(prod =>\r\n                (!filtroCategoria || prod.id_categoria === Number(filtroCategoria)) &&\r\n                (!filtroNombre || prod.nombre.toLowerCase().includes(filtroNombre.toLowerCase()))\r\n              )\r\n              .map(prod => (\r\n                <li key={prod.id_producto} className=\"admin-producto-item\">\r\n                  <div className=\"admin-producto-info\">\r\n                    {editandoProducto === prod.id_producto ? (\r\n                      <>\r\n                        <input value={productoEdit.nombre} onChange={e => setProductoEdit({ ...productoEdit, nombre: e.target.value })} />\r\n                        <input value={productoEdit.descripcion} onChange={e => setProductoEdit({ ...productoEdit, descripcion: e.target.value })} />\r\n                        <input type=\"number\" value={productoEdit.precio} onChange={e => setProductoEdit({ ...productoEdit, precio: Number(e.target.value) })} />\r\n                        <input type=\"number\" value={productoEdit.cantidad} onChange={e => setProductoEdit({ ...productoEdit, cantidad: Number(e.target.value) })} />\r\n                        <div className=\"image-upload-container\">\r\n                          <input\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            onChange={handleFileChange}\r\n                            style={{ display: 'none' }}\r\n                            id={`image-upload-${prod.id_producto}`}\r\n                          />\r\n                          <label htmlFor={`image-upload-${prod.id_producto}`} className=\"upload-button\">\r\n                            {selectedFile ? 'Cambiar imagen' : 'Seleccionar imagen'}\r\n                          </label>\r\n                          {selectedFile && (\r\n                            <span className=\"file-name\">{selectedFile.name}</span>\r\n                          )}\r\n                        </div>\r\n                        <select value={productoEdit.id_categoria} onChange={e => setProductoEdit({ ...productoEdit, id_categoria: Number(e.target.value) })}>\r\n                          <option value=\"\">Categoría</option>\r\n                          {categorias.map(cat => <option key={cat.id_categoria} value={cat.id_categoria}>{cat.nombre}</option>)}\r\n                        </select>\r\n                        <button className=\"admin-btn-morado\" onClick={() => handleActualizarProducto(prod.id_producto)} disabled={uploading}>\r\n                          {uploading ? 'Subiendo...' : 'Guardar'}\r\n                        </button>\r\n                        <button className=\"admin-btn-morado\" onClick={() => handleEliminarProducto(prod.id_producto)} style={{marginLeft: '0.7rem'}}>Eliminar</button>\r\n                        <button onClick={() => setEditandoProducto(null)} style={{marginLeft: '0.7rem'}}>Cancelar</button>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"admin-producto-nombre\"><b>{prod.nombre}</b></div>\r\n                        <div className=\"admin-producto-desc\">{prod.descripcion}</div>\r\n                        <div className=\"admin-producto-precio\">${prod.precio}</div>\r\n                        <div className=\"admin-producto-stock\">Stock: {prod.cantidad}</div>\r\n                        <button className=\"admin-btn-morado\" onClick={() => handleEditarClick(prod)}>Actualizar</button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  {prod.imagen_url && (\r\n                    <div className=\"admin-producto-img\">\r\n                      <img src={prod.imagen_url} alt={prod.nombre} style={{maxWidth: '120px', maxHeight: '120px', borderRadius: '8px', objectFit: 'cover'}} />\r\n                    </div>\r\n                  )}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* CRUD Categorías */}\r\n      {tab === \"categorias\" && (\r\n        <div>\r\n          <h3>Categorías</h3>\r\n          <form onSubmit={handleCrearCategoria} className=\"admin-form\">\r\n            <input value={nuevaCategoria.nombre} onChange={e => setNuevaCategoria({ ...nuevaCategoria, nombre: e.target.value })} placeholder=\"Nombre\" required />\r\n            <input value={nuevaCategoria.descripcion_corta} onChange={e => setNuevaCategoria({ ...nuevaCategoria, descripcion_corta: e.target.value })} placeholder=\"Descripción corta\" required />\r\n            <input value={nuevaCategoria.descripcion_larga} onChange={e => setNuevaCategoria({ ...nuevaCategoria, descripcion_larga: e.target.value })} placeholder=\"Descripción larga\" />\r\n            <button type=\"submit\">Crear categoría</button>\r\n          </form>\r\n          <ul>\r\n            {categorias.map(cat => (\r\n              <li key={cat.id_categoria} className=\"admin-categoria-item\">\r\n                {editandoCategoria === cat.id_categoria ? (\r\n                  <div className=\"admin-categoria-info\">\r\n                    <input value={categoriaEdit.nombre} onChange={e => setCategoriaEdit({ ...categoriaEdit, nombre: e.target.value })} placeholder=\"Nombre\" />\r\n                    <input value={categoriaEdit.descripcion_corta} onChange={e => setCategoriaEdit({ ...categoriaEdit, descripcion_corta: e.target.value })} placeholder=\"Descripción corta\" />\r\n                    <input value={categoriaEdit.descripcion_larga} onChange={e => setCategoriaEdit({ ...categoriaEdit, descripcion_larga: e.target.value })} placeholder=\"Descripción larga\" />\r\n                    <div className=\"admin-categoria-botones\">\r\n                      <button className=\"admin-btn-morado\" onClick={() => handleActualizarCategoria(cat.id_categoria)}>Guardar</button>\r\n                      <button className=\"admin-btn-morado\" onClick={() => handleEliminarCategoria(cat.id_categoria)}>Eliminar</button>\r\n                      <button onClick={() => setEditandoCategoria(null)}>Cancelar</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"admin-categoria-info\">\r\n                    <div className=\"admin-categoria-nombre\"><b>{cat.nombre}</b></div>\r\n                    <div className=\"admin-categoria-desc\">{cat.descripcion_corta}</div>\r\n                    <div className=\"admin-categoria-botones\">\r\n                      <button className=\"admin-btn-morado\" onClick={() => handleEditarCategoriaClick(cat)}>Actualizar</button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* Gestión de Pedidos */}\r\n      {tab === \"pedidos\" && (\r\n        <div>\r\n          <h3>Pedidos</h3>\r\n          <label>Filtrar por estado: </label>\r\n          <select value={filtroEstado} onChange={e => setFiltroEstado(e.target.value)}>\r\n            <option value=\"\">Todos</option>\r\n            {ESTADOS.map(estado => (\r\n              <option key={estado} value={estado}>{estado}</option>\r\n            ))}\r\n          </select>\r\n          <ul>\r\n            {pedidos.map(pedido => (\r\n              <li key={pedido.id_pedido} style={{marginBottom: '1.5rem'}}>\r\n                <b>Pedido #{pedido.id_pedido}</b> - Estado: {pedido.estado}\r\n                <button className=\"admin-btn-morado\" style={{marginLeft: '1rem'}} onClick={() => setEditandoEstadoId(editandoEstadoId === pedido.id_pedido ? null : pedido.id_pedido)}>Actualizar</button>\r\n                <button className=\"admin-btn-morado\" style={{marginLeft: '0.7rem'}} onClick={() => handleVerMas(pedido.id_pedido)}>\r\n                  {verMasId === pedido.id_pedido ? \"Ocultar\" : \"Ver más\"}\r\n                </button>\r\n                <span> | Cliente: {pedido.id_cliente} | Dirección: {pedido.direccion_envio} | Fecha: {pedido.fecha_pedido}</span>\r\n                {editandoEstadoId === pedido.id_pedido && (\r\n                  <div style={{marginTop: '0.7rem'}}>\r\n                    <select value={pedido.estado} onChange={e => handleActualizarEstado(pedido.id_pedido, e.target.value)}>\r\n                      {ESTADOS.map(estado => (\r\n                        <option key={estado} value={estado}>{estado}</option>\r\n                      ))}\r\n                    </select>\r\n                    <button style={{marginLeft: '0.7rem'}} onClick={() => setEditandoEstadoId(null)}>Cerrar</button>\r\n                  </div>\r\n                )}\r\n                {verMasId === pedido.id_pedido && detallesPedido[pedido.id_pedido] && (\r\n                  <div style={{marginTop: '1rem', background: '#f3e5f5', borderRadius: '8px', padding: '1rem'}}>\r\n                    <b>Productos del pedido:</b>\r\n                    <ul style={{marginTop: '0.7rem'}}>\r\n                      {detallesPedido[pedido.id_pedido].map((det, idx) => (\r\n                        <li key={det.id_detalle} style={{marginBottom: '0.5rem'}}>\r\n                          <b>{det.producto?.nombre}</b> - {det.producto?.descripcion}<br/>\r\n                          Valor unitario: ${det.producto?.precio} | Cantidad: {det.cantidad} | Subtotal: ${det.subtotal}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminCuenta;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}